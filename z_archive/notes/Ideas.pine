// BỎ HOÀN TOÀN LinePool system và thay bằng:

// === TRADING RANGE MARKS (KHÔNG DÙNG LinePool) ===
if showTRLines and barstate.isconfirmed
    if isSpring
        plotshape(true, "Spring Support", shape.triangleup, location.belowbar, 
                 color.green, size=size.small, text="SPR")
    if isUpthrust
        plotshape(true, "Upthrust Resistance", shape.triangledown, location.abovebar,
                 color.red, size=size.small, text="UT")

// Hoặc dùng plotchar() đơn giản hơn:
plotchar(showTRLines and isSpring, "Spring", "▲", location.belowbar, color.green, size=size.small)
plotchar(showTRLines and isUpthrust, "Upthrust", "▼", location.abovebar, color.red, size=size.small)